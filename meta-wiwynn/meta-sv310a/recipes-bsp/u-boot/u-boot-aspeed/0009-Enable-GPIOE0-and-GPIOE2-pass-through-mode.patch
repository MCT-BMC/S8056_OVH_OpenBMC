From 6bf6c834220359b2ebedf8befcd95945f803af1e Mon Sep 17 00:00:00 2001
From: Ren Chen <ren_chen@wiwynn.com>
Date: Fri, 1 Oct 2021 10:40:03 +0800
Subject: [PATCH] Enable GPIOE0 and GPIOE2 pass-through mode in platform.S

---
 arch/arm/mach-aspeed/platform_g5.S | 9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/arch/arm/mach-aspeed/platform_g5.S b/arch/arm/mach-aspeed/platform_g5.S
index 2ac1ca4721..ef8b0f8499 100644
--- a/arch/arm/mach-aspeed/platform_g5.S
+++ b/arch/arm/mach-aspeed/platform_g5.S
@@ -2421,6 +2421,15 @@ spi_cbr_end:
     bic r1, r1, #0x00400000
     str r1, [r0]
 
+    ldr   r0, =0x1e6e2000                          @ Enable GPIOE0 and GPIOE2 pass-through mode
+    ldr   r1, =0x1688a8a8
+    str   r1, [r0]
+    ldr   r0, =0x1e6e208c
+    ldr   r1, [r0]
+    ldr   r2, =0x00003000
+    orr   r1, r1, r2
+    str   r1, [r0]
+
 /******************************************************************************
  Configure MAC timing
  ******************************************************************************/
-- 
2.25.1

