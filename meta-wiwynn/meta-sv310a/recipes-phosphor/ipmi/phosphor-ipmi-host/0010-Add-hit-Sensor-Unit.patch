From 219f77690f73a62a59dd5c41391b490abb2e1539 Mon Sep 17 00:00:00 2001
From: Eli Huang <Eli_Huang@wiwynn.com>
Date: Fri, 25 Dec 2020 17:01:03 +0800
Subject: [PATCH 07/10] Add hit Sensor Unit

---
 sensorhandler.cpp | 6 ++++++
 sensorhandler.hpp | 1 +
 2 files changed, 7 insertions(+)

diff --git a/sensorhandler.cpp b/sensorhandler.cpp
index 3b22cbf..4495029 100644
--- a/sensorhandler.cpp
+++ b/sensorhandler.cpp
@@ -740,6 +740,9 @@ void setUnitFieldsForObject(const ipmi::sensor::Info* info,
             case server::Value::Unit::Watts:
                 body->sensor_units_2_base = get_sdr::SENSOR_UNIT_WATTS;
                 break;
+            case server::Value::Unit::Hit:
+                body->sensor_units_2_base = get_sdr::SENSOR_UNIT_HIT;
+                break;
             default:
                 // Cannot be hit.
                 std::fprintf(stderr, "Unknown value unit type: = %s\n",
@@ -827,6 +830,9 @@ void setUnitFieldsForCompactObject(const ipmi::sensor::Info* info,
             case server::Value::Unit::Watts:
                 body->sensor_units_2_base = get_sdr::SENSOR_UNIT_WATTS;
                 break;
+            case server::Value::Unit::Hit:
+                body->sensor_units_2_base = get_sdr::SENSOR_UNIT_HIT;
+                break;
             default:
                 // Cannot be hit.
                 std::fprintf(stderr, "Unknown value unit type: = %s\n",
diff --git a/sensorhandler.hpp b/sensorhandler.hpp
index b3191db..35a4769 100644
--- a/sensorhandler.hpp
+++ b/sensorhandler.hpp
@@ -702,6 +702,7 @@ enum SensorUnitTypeCodes
     SENSOR_UNIT_RPM = 18,
     SENSOR_UNIT_METERS = 34,
     SENSOR_UNIT_REVOLUTIONS = 41,
+    SENSOR_UNIT_HIT = 78,
 };
 
 struct SensorDataFullRecord
-- 
2.32.0

